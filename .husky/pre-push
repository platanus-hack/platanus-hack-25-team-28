#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-push checks..."

# Run prettier check
echo "ğŸ“ Checking code formatting with Prettier..."
pnpm format

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Prettier check failed!"
  echo "   Please run 'pnpm format:fix' to fix formatting issues."
  exit 1
fi

# Run lint
echo "ğŸ”§ Running ESLint..."
pnpm lint

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Lint check failed!"
  echo "   Please run 'pnpm lint:fix' to fix linting issues."
  exit 1
fi

# Run typecheck
echo "ğŸ” Running TypeScript typecheck..."
pnpm typecheck

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Typecheck failed!"
  echo "   Please run 'pnpm typecheck' to see errors."
  exit 1
fi

echo ""
echo "âœ… All pre-push checks passed!"

